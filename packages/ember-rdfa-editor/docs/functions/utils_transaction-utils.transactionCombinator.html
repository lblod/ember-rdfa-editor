<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>transactionCombinator | @lblod/ember-rdfa-editor</title><meta name="description" content="Documentation for @lblod/ember-rdfa-editor"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@lblod/ember-rdfa-editor</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/utils_transaction-utils.html">utils/transaction-utils</a></li><li><a href="" aria-current="page">transactionCombinator</a></li></ul><h1>Function transactionCombinator</h1></div><section class="tsd-panel"><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="transactioncombinator"><span class="tsd-kind-call-signature">transactionCombinator</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#transactioncombinatorr">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">initialState</span><span class="tsd-signature-symbol">:</span> <a href="../classes/index.EditorState.html" class="tsd-signature-type tsd-kind-class">EditorState</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">initialTransaction</span><span class="tsd-signature-symbol">?:</span> <a href="../classes/index.Transaction.html" class="tsd-signature-type tsd-kind-class">Transaction</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">transactionMeta</span><span class="tsd-signature-symbol">?:</span> <a href="../types/utils_transaction-utils.TransactionMeta.html" class="tsd-signature-type tsd-kind-type-alias">TransactionMeta</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">transactionMonads</span><span class="tsd-signature-symbol">:</span> <a href="../types/utils_transaction-utils.TransactionMonad.html" class="tsd-signature-type tsd-kind-type-alias">TransactionMonad</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#transactioncombinatorr">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <a href="../interfaces/utils_transaction-utils.TransactionCombinatorResult.html" class="tsd-signature-type tsd-kind-interface">TransactionCombinatorResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#transactioncombinatorr">R</a><span class="tsd-signature-symbol">&gt;</span><a href="#transactioncombinator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Builds a function that can chain <a href="../types/utils_transaction-utils.TransactionMonad.html" class="tsd-kind-type-alias">TransactionMonad</a> functions together.
It starts from the initial state given as the first parameter. The resulting combinator
then applies each monad function in sequence, ultimately generating one <a href="../interfaces/utils_transaction-utils.TransactionCombinatorResult.html" class="tsd-kind-interface">TransactionCombinatorResult</a> which combines
all operations.</p>
<p>You can also optionally pass an initialtransaction, which is required to be made from the same state you pass as initialState.
This initial transaction will simply be processed before the monads are applied. This is handy in commands, where you usually
already have a transaction and you don't realy want to be forced to write a monad function.</p>
<p>The combination happens by appending all the steps of each transaction to an &quot;accumulator&quot; transaction, a bit similar to a
reduce function.</p>
<p>WARNING: the combinator does NOT carry over any selection changes, storedMarks changes, or metadata changes from the given transactions.
The logic to correctly carry over selections was simply too complex. Instead, the return value carries the full array of transactions
that were applied in sequence, so that calling code can restore any potentially lost state if needed.
It is however recommended to write transactionMonads in such a way that they only deal with document transforms.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="transactioncombinatorr"><span class="tsd-kind-type-parameter">R</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">initialState</span>: <a href="../classes/index.EditorState.html" class="tsd-signature-type tsd-kind-class">EditorState</a></span><div class="tsd-comment tsd-typography"><p>the state to start from</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">initialTransaction</span>: <a href="../classes/index.Transaction.html" class="tsd-signature-type tsd-kind-class">Transaction</a></span><div class="tsd-comment tsd-typography"><p>optional initial transaction. If given, it must be made from the same state as you pass to initialState</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">transactionMeta</span>: <a href="../types/utils_transaction-utils.TransactionMeta.html" class="tsd-signature-type tsd-kind-type-alias">TransactionMeta</a></span><div class="tsd-comment tsd-typography"><p>metadata to be set on the transactions produced by the combination process</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">transactionMonads</span><span class="tsd-signature-symbol">:</span> <a href="../types/utils_transaction-utils.TransactionMonad.html" class="tsd-signature-type tsd-kind-type-alias">TransactionMonad</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#transactioncombinatorr">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <a href="../interfaces/utils_transaction-utils.TransactionCombinatorResult.html" class="tsd-signature-type tsd-kind-interface">TransactionCombinatorResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#transactioncombinatorr">R</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The resulting combinator</p>
<aside class="tsd-sources"><ul><li>Defined in dev/ember-rdfa-editor/packages/ember-rdfa-editor/declarations/utils/transaction-utils.d.ts:78</li></ul></aside></div></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@lblod/ember-rdfa-editor</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
